# Checklist

## Configuration de base
- [x] Hostname
- [x] Bannière
- [x] Créer un nom de domaine

## Configuration des ports
- [x] Activation des ports utilisés
- [x] Désactivation des ports non utilisés
- [x] Description des ports
- [ ] Laisser que les VLANs necéssaire passer pour chaque port (trunk)

## Configuration des VLANs
- [x] Une interface de gestion qui peut être accessible par SSH

## Configuration des adresses IP
- [x] PCs obtiennent leurs adresses de manière dynamique
- [x] Téléphones IP obtiennent leurs adresses de manière dynamique
- [x] Toutes les passerelles sont configurées sur une interface VLAN
- [x] Création d'un serveur DHCP pour chaque batiment
- [x] Création d'un pool DHCP pour les VLANs de voix
- [x] Création des pools DHCP pour les VLANs de données
- [x] Activation des DHCP Relay Agent (`ip helper-address`)

## Configuration de sécurité
- [x] Mot de passe pour le User EXEC Mode (`enable`)
- [x] Mot de passe pour le Privileged EXEC Mode (`configure terminal`)
- [x] Mot de passe pour le Auxiliary Mode
- [x] Mot de passe pour l'accès à distance (`ssh`)
- [x] Encrypter les mots de passes dans le fichier de configuration
- [ ] Apprentissage des adresses MAC automatique
- [ ] Maximum de deux adresses MAC par port
- [ ] Bloquer les trames non autorisées et consigner les événements dans le journal

## Configuration du routage
- [x] Activer le routage
- [ ] Routes statiques (Routes principales et routes flottantes)
- [ ] Capable de `ping` toutes les machines sans problèmes

# Fichier de configuration
```Cisco IOS
! --------------------------------------------
! ---------- CONFIGURATIONS DE BASE ----------
! --------------------------------------------

! ENTRER EN USER EXEC MODE 
enable

! ENTRER EN PRIVILEGED EXEC MODE
configure terminal

! DONNER UN HOSTNAME
hostname Routeur2

! CREER UNE BANNIERE
banner motd #Banner#

! empty
no ip domain lookup

! empty
ip domain-name crosemontR2.qc

! empty
lldp run
cdp run

ip routing

! SORTIR DU PRIVILEGED EXEC MODE
end

! --------------------------------------------
! -------- CONFIGURATIONS DES PORTS ----------
! -------------------------------------------- 

! ENTRER EN USER EXEC MODE 
enable

! ENTRER EN PRIVILEGED EXEC MODE
configure terminal

! Port G0/0 vers R1 pour la route secondaire
interface G0/0 
description vers R1
ip address 192.168.15.2 255.255.255.0
no shutdown

#Route pour la route secondaire vers R1
ip route 0.0.0.0 0.0.0.0 192.168.15.1 10

! Port G0/1 vers Sw1 pour la route principale
interface G0/1
description vers Sw1
ip address 192.168.10.1 255.255.255.0
no shutdown

! Route pour la route principale vers la switch Sw1
ip route 0.0.0.0 0.0.0.0 192.168.10.2 5

! Port G0/2 vers le Routeur R3 pour le reseau
interface G0/2
description vers R3
ip address 192.168.5.2 255.255.255.0
no shutdown

ip route 192.168.1.0 255.255.255.0 g0/2 
ip route 192.168.2.0 255.255.255.0 g0/2 

!interface g0/2.50
!encapsulation dot1q 50
!description Vlan-E
!ip address 10.10.50.2 255.255.255.0
!no shutdown

!interface g0/2.55
!encapsulation dot1q 55
!description Vlan-E-Voix
!ip address 10.10.55.2 255.255.255.0
!no shutdown

!interface g0/2.60
!encapsulation dot1q 60
!description Vlan-H
!ip address 10.10.60.2 255.255.255.0
!no shutdown

!interface g0/2.65
!encapsulation dot1q 65
!description Vlan-H-Voix
!ip address 10.10.65.2 255.255.255.0
!no shutdown

!interface g0/2.70
!encapsulation dot1q 70
!description Vlan-G
!ip address 10.10.70.2 255.255.255.0
!no shutdown

!interface g0/2.80
!encapsulation dot1q 80
!description Vlan-F
!ip address 10.10.80.2 255.255.255.0
!no shutdown

!interface g0/2.44
!encapsulation dot1q 44
!description Gestion-Distance
!ip address 10.10.44.2 255.255.255.0
!no shutdown

! SORTIR DE LA LIGNE DE CONFIGURATION DU VLAN
end

! --------------------------------------------
! ------ CONFIGURATIONS DES POOLS DHCP -------
! -------------------------------------------- 

! ENTRER EN USER EXEC MODE 
enable

! ENTRER EN PRIVILEGED EXEC MODE
configure terminal

! CREER ET CONFIGURER LES POOLS DHCP POUR LES VLANs DE DATA
ip dhcp pool VLAN-E
network 10.10.50.0 255.255.255.0
default-router 10.10.50.2
ip dhcp excluded-address 10.10.50.1 10.10.50.10

ip dhcp pool VLAN-H
network 10.10.60.0 255.255.255.0
default-router 10.10.60.2
ip dhcp excluded-address 10.10.60.1 10.10.60.10

ip dhcp pool VLAN-G
network 10.10.70.0 255.255.255.0
default-router 10.10.70.2
ip dhcp excluded-address 10.10.70.1 10.10.70.10

ip dhcp pool VLAN-F
network 10.10.80.0 255.255.255.0
default-router 10.10.80.2
ip dhcp excluded-address 10.10.80.1 10.10.80.10

! CREER ET CONFIGURER DES POOLS DHCP POUR LES VLANs DE VOIX
ip dhcp pool VLAN-E-Voix
network 10.10.55.0 255.255.255.0
default-router 10.10.55.2
ip dhcp excluded-address 10.10.55.1 10.10.55.10

ip dhcp pool VLAN-H-Voix
network 10.10.65.0 255.255.255.0
default-router 10.10.65.2
ip dhcp excluded-address 10.10.65.1 10.10.65.10

! SORTIR DU MODE DE CONFIGURATION GLOBALE 
end

! --------------------------------------------
! -------- CONFIGURATIONS DE SECURITE --------
! --------------------------------------------

! ENTRER EN USER EXEC MODE 
enable

! ENTRER EN PRIVILEGED EXEC MODE
configure terminal

! CONFIGURER UN MOT DE PASSE POUR LE PRIVILEGED EXEC MODE
enable secret crosemont

! CONFIGURER UN MOT DE PASSE POUR USER EXEC MODE
line console 0
password crosemont
login
exit

! CONFIGURER UN MOT DE PASSE POUR LE MODE AUXILIAIRE
line aux 0
password crosemont
login
exit

! CONFIGURER L'ACCESS A DISTANCE
username Admin privilege 15 secret crosemont
crypto key generate rsa general-keys modulus 2048
line vty 0 15
password crosemont
login
transport input ssh
ip ssh version 2
exit

! ENCRYPTER LES MOTS DE PASSE
configure terminal
service password-encryption

! --------------------------------------------
! ------ SAUVEGARDER LES CONFIGURATIONS ------
! --------------------------------------------

end
write

! --------------------------------------------
! --------------- CREDENTIALS ----------------
! --------------------------------------------

! NORTEL IP PHONE -> color*set
! SWITCH ----------> crosemont
```

# Test
```Cisco IOS
! --------------------------------------------
! ---------- CONFIGURATIONS DE BASE ----------
! --------------------------------------------

! ENTRER EN USER EXEC MODE 
enable

! ENTRER EN PRIVILEGED EXEC MODE
configure terminal

! DONNER UN HOSTNAME
hostname Routeur2

! CREER UNE BANNIERE
banner motd #Banner#

! empty
no ip domain lookup

! empty
ip domain-name crosemontR2.qc

! empty
lldp run
cdp run

ip routing

! SORTIR DU PRIVILEGED EXEC MODE
end

! --------------------------------------------
! -------- CONFIGURATIONS DES PORTS ----------
! -------------------------------------------- 

! ENTRER EN USER EXEC MODE 
enable

! ENTRER EN PRIVILEGED EXEC MODE
configure terminal

! Port G0/0 vers R1 pour la route secondaire
interface G0/0 
description vers R1
ip address 192.168.15.2 255.255.255.0
no shutdown

! Route pour la route secondaire vers R1
ip route 0.0.0.0 0.0.0.0 192.168.15.1 10

! Port G0/1 vers Sw1 pour la route principale
interface G0/1
description vers Sw1
ip address 192.168.10.1 255.255.255.0
no shutdown

! Route pour la route principale vers la switch Sw1
ip route 0.0.0.0 0.0.0.0 192.168.10.2 5

! Port G0/2 vers le Routeur R3 pour le reseau
interface G0/2
description vers R3
ip address 192.168.5.2 255.255.255.0
no shutdown

! SORTIR DE LA LIGNE DE CONFIGURATION DU VLAN
end

! --------------------------------------------
! ------ CONFIGURATIONS DES POOLS DHCP -------
! -------------------------------------------- 

! ENTRER EN USER EXEC MODE 
enable

! ENTRER EN PRIVILEGED EXEC MODE
configure terminal

! CREER ET CONFIGURER LES POOLS DHCP POUR LES VLANs DE DATA
ip dhcp pool VLAN-E
network 10.10.50.0 255.255.255.0
default-router 10.10.50.2
dns-server 10.10.50.2
ip dhcp excluded-address 10.10.50.1 10.10.50.10

ip dhcp pool VLAN-H
network 10.10.60.0 255.255.255.0
default-router 10.10.60.2
dns-server 10.10.60.2
ip dhcp excluded-address 10.10.60.1 10.10.60.10

ip dhcp pool VLAN-G
network 10.10.70.0 255.255.255.0
default-router 10.10.70.2
dns-server 10.10.70.2
ip dhcp excluded-address 10.10.70.1 10.10.70.10

ip dhcp pool VLAN-F
network 10.10.80.0 255.255.255.0
default-router 10.10.80.2
dns-server 10.10.80.2
ip dhcp excluded-address 10.10.80.1 10.10.80.10

! CREER ET CONFIGURER DES POOLS DHCP POUR LES VLANs DE VOIX
ip dhcp pool VLAN-E-Voix
network 10.10.55.0 255.255.255.0
default-router 10.10.55.2
dns-server 10.10.55.2
ip dhcp excluded-address 10.10.55.1 10.10.55.10

ip dhcp pool VLAN-H-Voix
network 10.10.65.0 255.255.255.0
default-router 10.10.65.2
dns-server 10.10.65.2
ip dhcp excluded-address 10.10.65.1 10.10.65.10

! SORTIR DU MODE DE CONFIGURATION GLOBALE 
end

! --------------------------------------------
! -------- CONFIGURATIONS DE SECURITE --------
! --------------------------------------------

! ENTRER EN USER EXEC MODE 
enable

! ENTRER EN PRIVILEGED EXEC MODE
configure terminal

! CONFIGURER UN MOT DE PASSE POUR LE PRIVILEGED EXEC MODE
enable secret crosemont

! CONFIGURER UN MOT DE PASSE POUR USER EXEC MODE
line console 0
password crosemont
login
exit

! CONFIGURER UN MOT DE PASSE POUR LE MODE AUXILIAIRE
line aux 0
password crosemont
login
exit

! CONFIGURER L'ACCESS A DISTANCE
username Admin privilege 15 secret crosemont
crypto key generate rsa general-keys modulus 2048
line vty 0 15
password crosemont
login
transport input ssh
ip ssh version 2
exit

! ENCRYPTER LES MOTS DE PASSE
configure terminal
service password-encryption

! --------------------------------------------
! ------ SAUVEGARDER LES CONFIGURATIONS ------
! --------------------------------------------

end
write
```
